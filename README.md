# 宝石タップ・インフレ放置ゲーム

ブラウザだけで動くカジュアルなクリック＆放置ゲームです。宝石をタップしてお金とXPを稼ぎ、アップグレードで自動収入や出現速度を強化していきます。コンボとFEVERをうまく活用してインフレを楽しんでください。最新バージョンではハイパーゲージを溜めて「ルミナスバースト」を放つ爽快フィーチャー、オート発動FEVER、そして豪華なUIを追加しました。

## 遊び方
- `index.html` をブラウザで直接開くだけでプレイできます（ローカルサーバー不要）。
- 宝石をクリックするとお金とXPを獲得します。一定時間で消えるので素早くタップしましょう。
- ショップで「出現速度アップ」「オート採掘機」を購入すると、宝石の出現や自動収入が強化されます。オート採掘機はレベル・インフレに連動した指数的な伸びに調整され、後半も存在感を失いません。
- コンボを繋げると倍率が上昇し、FEVERゲージが溜まります。ゲージが100%になると自動でFEVERが発動し、一時的に収入が大幅アップします。
- タップや自動収入でハイパーゲージを100%にすると「ルミナスバースト」のストックが1つ増え、発射回数をため込めます。好きなタイミングで放って、宝石の雨で爽快に稼ぎましょう。
- オート採掘でもXPが手に入るため、放置中もレベルとFEVER火力が育っていきます。

## ファイル構成
```
./
├── index.html           # 画面レイアウト。スタイル・スクリプトを外部ファイルとして読み込む
├── assets/
│   ├── css/
│   │   └── styles.css   # 見た目の定義（ハイライトやグラデーションを含む）
│   ├── img/             # 今後のビジュアル素材置き場（例: ロゴ、背景、アイコンなど）
│   └── js/
│       └── game.js      # ゲームロジック一式
└── README.md            # プロジェクト概要と構成
```

小規模ながらもHTMLとアセットを分けることで、今後の拡張時（画像追加、サウンド追加、テスト導入など）にフォルダを増やしやすくしています。

## 開発メモ
- 新しいアセット種別（画像や音声）を追加する場合は `assets/` 配下にサブフォルダを作成してください。
- ゲームロジックを分割したい場合は `assets/js/` にモジュールを追加し、`index.html` から読み込むスクリプトタグを増やす形で拡張するのが簡単です。

## ゲーム性を高めるための提案
- **成長実感を補強する解放演出**: 新しい宝石解放時にポップアップとスローモーション演出を挿入し、次の解放条件をチュートリアル風に提示。ロードマップが見えることで「あと少し頑張ろう」というモチベーションが高まります。
- **音と触覚のフィードバック**: タップ時のSEをレアリティやクリティカルで差別化し、可能ならモバイルのバイブレーションを追加。クリック一発で手応えが分かると中毒性が増します。
- **オート育成の見える化**: オート採掘機の効果をミニログ（秒間獲得額、採掘回数）としてフィールド横に流し、アップグレードの価値を視覚化。放置中でも「成長している」感覚を与えられます。。
- **オープニングチュートリアル**: 初回起動時にポップアップと矢印で「タップ→ショップ→オート採掘→FEVER発動」の一連の流れを短く体験させる。チュートリアル後もヘルプボタンから再確認できると復帰時のリマインドにもなります。
- **定期レベルアップ報酬**: 一定間隔（例: 5レベルごと）で「レア宝石出現率+X%」「FEVER初期チャージ」などの小さな報酬を即時受け取れるようにし、メインレベルを上げるモチベーションを維持。演出付きで通知するとリズムが生まれます。
- **ミッション／クエスト要素**: 「一定時間内にコンボを切らさずに続ける」「ハイパーゲージを3回ためる」などの常設ミッションを複数提示し、報酬にジェム倍率や一時ブースト、限定バッジを設定。デイリー目標と組み合わせると短期・中期の目標軸が揃います。
- **宝石価値の投資強化**: ショップに「宝石単価アップグレード」を追加し、ゲーム内通貨で各宝石の基本価値を恒久的に引き上げられるようにする。所持金の大量消費先を増やし、後半でも金策の意味を持たせられます。

## 各提案の実装難易度と留意点
| 機能 | 想定難易度 | コスト・バグ観点でのポイント |
| --- | --- | --- |
| 解放演出＆ロードマップ | 中 | 既存の宝石解放ロジックに演出レイヤーを追加する形で比較的安全。ただしアニメーション停止やスキップ処理を作らないとUIが固まるリスク。 |
| 音・触覚フィードバック | 低 | 音声再生とVibration API呼び出しの追加のみ。ただしモバイルブラウザの自動再生制限を回避する入力トリガー設計が必要。 |
| オート育成ログ表示 | 中 | パフォーマンスへ影響しないよう、ログ更新をスロットリングする工夫が求められる。DOM書き換え頻度を抑えないと処理落ちしやすい。 |
| カムバック報酬 | 中〜高 | オフライン時間計測・サーバレスでのチート対策など検討事項が多い。タイムゾーンや端末時計改変による不正検知をどう扱うかで実装コストが上下。 |
| オープニングチュートリアル | 中 | シーケンス制御と入力制限を実装する必要があり、イベントリスナーの解除漏れでバグりやすい。再閲覧手段も合わせて作ると安定。 |
| 定期レベルアップ報酬 | 低〜中 | レベルテーブルへ閾値を追加するだけなので比較的軽いが、報酬の二重受取防止フラグ管理を忘れるとバグにつながる。 |
| ミッション／クエスト | 中〜高 | 進捗トラッキングの抽象化が必要。複数条件を同時監視する仕組みを最初に整理しないと、後からバグ修正コストが増大。 |
| 宝石価値の投資強化 | 低 | 既存のショップUIと同じ仕組みを流用できる。指数的に値段を上げてインフレバランスをとる調整時間のみ注意。 |

## 追加で明記しておきたい事項
- **推奨ブラウザ**: 最新版のChrome / Edge / Firefoxで動作確認しています。Safariでも基本的に動きますが、オーディオの自動再生やVibration APIには制約があります。
- **テスト方法**: `index.html` をブラウザで開いた状態でデベロッパーツールのコンソールを併用すると、宝石生成やゲージ増加のログを確認できます。ゲームループ関連のバグ調査時は `assets/js/game.js` 内の定数を小さく設定し、短時間で挙動を再現するのが効率的です。
- **ローカライズ想定**: UIテキストは現状日本語固定ですが、`assets/js/game.js` の文言をオブジェクト化しておくと多言語展開しやすく、イベント名やチュートリアル文の差し替えが安全になります。
